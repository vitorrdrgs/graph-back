import GraphMatrix from '../src/models/graph_matrix.js'

test('Create a weighted graph', () => {
  const graph = new GraphMatrix(
    [
      [0, 1, 4],
      [0, 7, 8],
      [1, 2, 8],
      [1, 7, 11],
      [2, 3, 7],
      [2, 5, 4],
      [2, 8, 2],
      [3, 4, 9],
      [3, 5, 14],
      [4, 5, 10],
      [5, 6, 2],
      [6, 7, 1],
      [6, 8, 6],
      [7, 8, 7],
    ],
    9
  )

  expect(graph.to_object()).toEqual({
    graph: [
      [0, 4, 0, 0, 0, 0, 0, 8, 0],
      [4, 0, 8, 0, 0, 0, 0, 11, 0],
      [0, 8, 0, 7, 0, 4, 0, 0, 2],
      [0, 0, 7, 0, 9, 14, 0, 0, 0],
      [0, 0, 0, 9, 0, 10, 0, 0, 0],
      [0, 0, 4, 14, 10, 0, 2, 0, 0],
      [0, 0, 0, 0, 0, 2, 0, 1, 6],
      [8, 11, 0, 0, 0, 0, 1, 0, 7],
      [0, 0, 2, 0, 0, 0, 6, 7, 0],
    ],
  })
})

test('Create a non weighted graph', () => {
  const graph = new GraphMatrix(
    [
      [0, 1],
      [0, 7],
      [1, 2],
      [1, 7],
      [2, 3],
      [2, 5],
      [2, 8],
      [3, 4],
      [3, 5],
      [4, 5],
      [5, 6],
      [6, 7],
      [6, 8],
      [7, 8],
    ],
    9
  )

  expect(graph.to_object()).toEqual({
    graph: [
      [0, 1, 0, 0, 0, 0, 0, 1, 0],
      [1, 0, 1, 0, 0, 0, 0, 1, 0],
      [0, 1, 0, 1, 0, 1, 0, 0, 1],
      [0, 0, 1, 0, 1, 1, 0, 0, 0],
      [0, 0, 0, 1, 0, 1, 0, 0, 0],
      [0, 0, 1, 1, 1, 0, 1, 0, 0],
      [0, 0, 0, 0, 0, 1, 0, 1, 1],
      [1, 1, 0, 0, 0, 0, 1, 0, 1],
      [0, 0, 1, 0, 0, 0, 1, 1, 0],
    ],
  })
})
